# 1420. Build Array Where You Can Find The Maximum Exactly K Comparisons
###### tags: `LeetCode`
## **Link**
https://leetcode.com/problems/build-array-where-you-can-find-the-maximum-exactly-k-comparisons
## **Code**
```cpp=
class Solution {
public:
    int numOfArrays(int n, int m, int k) 
    {
        // 省空間可以開 dp[k+1][n+1][m+1] = {};
        // dp[x][y][z]存
        // 目前的search_cost=x, arr長度為y, 最大數字為z, 有幾種可能 
        long long dp[51][51][101] = {}; 
        long long mod = 1e9+7;
        // 初始情況: arr長度為1, 此時search_cost必為1
        for(int i=1;i<=m;++i)
            dp[1][1][i]=1;
        for(int i=2;i<=n;++i)
        {
            for(int j=1;j<=k;++j)
            {
                for(int x=1;x<=m;++x)
                {
                    // 前提: x加入後必須是最大值
                    // 轉移來源1: x當第i個數字會改變最大值
                    for(int y=1;y<x;++y)
                    {
                        dp[j][i][x] += dp[j-1][i-1][y];
                    }
                    // 轉移來源2: x當第i個數字不會改變最大值
                    dp[j][i][x] += dp[j][i-1][x] * x;
                    dp[j][i][x] %= mod;
                }
            }
        }
        long long ans=0;
        // 計算答案總數
        for(int i=1;i<=m;++i)
            ans += dp[k][n][i];
        return ans%mod;
    }
};
```
## date
**2023.10.07**
