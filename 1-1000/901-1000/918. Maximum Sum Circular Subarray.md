# 918. Maximum Sum Circular Subarray
###### tags: `LeetCode`
## **Link**
https://leetcode.com/problems/maximum-sum-circular-subarray/

## **抓超時測資來加速的解法（399ms）**
```cpp=
class Solution {
public:
    int maxSubarraySumCircular(vector<int>& nums) 
    {
        int n=nums.size();
        int ct=0,ans=-9999999,fg=0;
        for(int i=0;i<n;++i)
        {
            ct=0;
            for(int j=i;j<i+n;++j)
            {
                if(nums[j%n]<0) // 找有沒有出現負數
                    fg=1;
                ct+=nums[j%n];
                ans=max(ans,ct);
                if(ct<0) // 總和是負數，再往後加也不會是最大值
                    break;
            }
            if(fg==0) // 超時測資=>全部都是正數
                break;
        }
        return ans;
    }
};
```
## **通用加速法（211ms）**
```cpp=
class Solution {
public:
    int maxSubarraySumCircular(vector<int>& nums) 
    {
        int n=nums.size();
        int ct=0,ans=-99999,fg=n;
        for(int i=0;i<n;++i)
        {
            ct=0;
            fg=n; // 預設在陣列最後的後面=>代表沒有負數的情況
            for(int j=i;j<i+n;++j)
            {
                if(nums[j%n]<0 && fg==n) // 找第一個負數
                    fg=j;
                ct+=nums[j%n]; 
                ans=max(ans,ct);
                if(ct<0) // 總和是負數，再往後加也不會是最大值
                    break;
            }
            if(fg<=n) // 確定是否為第一圈，避免無窮迴圈
                i=fg;
        }
        return ans;
    }
};
```
## date
**2023.01.19**
