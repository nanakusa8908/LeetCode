# 93. Restore IP Addresses
###### tags: `LeetCode`
## **Link**
https://leetcode.com/problems/restore-ip-addresses/
## **Code**
```cpp=
class Solution {
public:
    string st;
    void dfs(int ct, int n, vector<string> &ans, vector<string> &kp, string &s)
    {
        for(int i=1;i<4;++i) // IP最多可以有3位數
        {
            if(ct+i<=n) // ct+i在s的範圍內
            {
                st=s.substr(ct,i); // 抓substring
                if((st[0]=='0' && st!="0") || (st.size()==3 && st>="256")) // 不合IP的情況
                    return;
                kp.push_back(st); // 塞到暫存最後面
                if(kp.size()==4) // 已經有4個暫存
                {
                    if(ct+i==n) // 看是否有讀到所有數字
                    {
                        st=kp[0]; // 轉成IP格式
                        for(int j=1;j<4;++j) // 轉成IP格式
                            st=st+'.'+kp[j];
                        ans.push_back(st); // 存到ans
                    }
                }
                else
                    dfs(ct+i,n,ans,kp,s); // 還沒4個暫存就繼續往下找
            }
            else
                return;
            kp.pop_back();
        }
    }

    vector<string> restoreIpAddresses(string s) 
    {
        int n=s.size();
        vector<string> ans;
        vector<string> kp;
        if(s.size()>12) // 超出12位數不可能是IPv4，直接return
            return ans;
        dfs(0,n,ans,kp,s);
        return ans;
    }
};
```
## date
**2023.01.21**
