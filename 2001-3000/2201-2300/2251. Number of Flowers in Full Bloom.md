# 2251. Number of Flowers in Full Bloom
###### tags: `LeetCode`
## **Link**
https://leetcode.com/problems/number-of-flowers-in-full-bloom
## **Code**
```cpp=
class Solution {
public:
    vector<int> fullBloomFlowers(vector<vector<int>>& flowers, vector<int>& people) 
    {
        // 按開花順序sort
        sort(flowers.begin(),flowers.end());
        // st用來排序people + 去除同時間出現的人
        set<int> st;
        // ump存每個時間的開花量
        unordered_map<int,int> ump;
        for(int &v:people)
            st.insert(v);
        // 用it從st的頭跑到尾
        auto it = st.begin();
        int l=0,cnt=0,n=flowers.size();
        // pq存花謝的時間點 // 最小的在top
        priority_queue<int,vector<int>,greater<int>> pq;
        while(it!=st.end())
        {
            // 找到最晚開花但是不比*it晚的花
            while(l<n && flowers[l][0]<=*it)
                pq.push(flowers[l++][1]);
            // 把在*it前就謝掉的花去除
            while(!pq.empty() && pq.top()<*it)
                pq.pop();
            // pq.size()就是*it的答案
            ump[*it]=pq.size();
            it++;
        }
        vector<int> ans;
        for(int &v:people)
            ans.push_back(ump[v]);
        return ans;
    }
};
```
## date
**2023.10.11**
